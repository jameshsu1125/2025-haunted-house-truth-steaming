import{r as e,j as t,C as u,J as y,P as C,A as l,t as x}from"./index-BLD4AiPq.js";import{r as f,C as E,k as g}from"./index-C_v-ZTEZ.js";import{L as N}from"./index-DndKYHcj.js";var r=(s=>(s[s.unset=0]="unset",s[s.loaded=1]="loaded",s))(r||{});const j={step:0},i=e.createContext([j,()=>{}]);let P=0;const m=({children:s,className:o})=>{const[,a]=e.useContext(u),n=e.useId(),[{step:c}]=e.useContext(i),[p,h]=f({opacity:0,y:50}),[d,v]=e.useState(!1);return e.useEffect(()=>{c===r.loaded&&h({opacity:1,y:0},{duration:500,delay:1500+100*P++,onEnd:()=>v(!0)})},[c]),e.useEffect(()=>{d&&y.add(`#${n}`,()=>{o==="share"?console.log("share button clicked"):o==="again"&&a({type:l.Page,state:C.home})})},[d]),t.jsx("div",{id:n,style:p,className:x(o,d&&"cursor-pointer"),children:s})},S=e.memo(()=>(e.useEffect(()=>{},[]),t.jsxs("div",{className:"Button",children:[t.jsx(m,{className:"share"}),t.jsx(m,{className:"again"})]}))),k=e.memo(()=>{const[{step:s}]=e.useContext(i),[o,a]=f({opacity:0,scale:3}),[n,c]=e.useState(!1);return e.useEffect(()=>{s===r.loaded&&a({opacity:1,scale:1},{duration:200,delay:500,onEnd:()=>{c(!0)}})},[s]),t.jsx("div",{style:o,className:x(n&&"animate-shock")})}),b=e.memo(()=>{const[{location:s}]=e.useContext(u),[{step:o}]=e.useContext(i),[a,n]=f({opacity:0});return e.useEffect(()=>{o===r.loaded&&n({opacity:1})},[o]),t.jsx("div",{className:"Folder",style:a,children:t.jsx(E,{children:t.jsx("div",{className:"bg-cover",children:t.jsx("div",{className:x("file",`file-${s||"taipei"}`),children:t.jsx("div",{children:t.jsx("div",{children:t.jsx(k,{})})})})})})})}),B=e.memo(()=>{const[,s]=e.useContext(u),[o,a]=e.useState(j);return e.useEffect(()=>{s({type:l.LoadingProcess,state:{enabled:!0}})},[]),t.jsx(i.Provider,{value:[o,a],children:t.jsx(g,{onload:()=>{a(n=>({...n,step:1})),s({type:l.LoadingProcess,state:{enabled:!1}})},children:t.jsxs("div",{className:"Result",children:[t.jsx(b,{}),t.jsx(N,{}),t.jsx(S,{})]})})})});export{B as default};
