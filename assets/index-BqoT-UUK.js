import{r as S,j as P}from"./index-C4Dskjim.js";var C=(t=>(t[t.unload=0]="unload",t[t.loading=1]="loading",t[t.loaded=2]="loaded",t))(C||{});const R={hideBeforeLoaded:!0,onUpdate:t=>{}};let I=class{index;result;constructor(){this.index=0,this.result=[]}load(r,e=R){if(!r)return new Promise(i=>{i({total:0,loaded:0})});const s={...R,...e},{onUpdate:l,hideBeforeLoaded:a}=s,h=this.getStyle(r,"display")==="flex"?"flex":"block";a&&(r.style.display="none");var m=Array.from(r.querySelectorAll("*"));[r,...m].forEach((i,u)=>{const c=i.tagName,g=i.getAttribute("src"),f=this.getStyle(i,"background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),w=this.getStyle(i,"-webkit-mask-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),d=C.unload;return c==="IMG"&&g?(this.result.push({url:g,index:u,status:d}),!0):c==="DIV"&&f!=="none"?(f.includes("gradient")||this.result.push({url:f,index:u,status:d}),!0):(c==="DIV"&&w!=="none"&&this.result.push({url:w,index:u,status:d}),!1)});const o=({resolve:i=c=>console.log(c),reject:u=c=>console.log(c)})=>{if(this.result.length===0){a&&(r.style.display=h),i({total:0,loaded:0});return}const c=this.result[this.index],g=this.result.length,{url:f,index:w}=c;c.status=C.loading;const d=new Image;d.onload=()=>{c.status=C.loaded;const n=this.result.filter(p=>p.status===C.loaded).length;g===n?(a&&(r.style.display=h),requestAnimationFrame(()=>i({url:f,total:g,loaded:n,index:w}))):(l({url:f,total:g,loaded:n,index:w}),this.index++,o({resolve:i,reject:u}))},d.src=f};return new Promise((i,u)=>{o({resolve:i,reject:u})})}getStyle(r,e){let s;const l=r.ownerDocument.defaultView;return l&&l.getComputedStyle?(e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),l.getComputedStyle(r,null).getPropertyValue(e)):r.currentStyle?(e=e.replace(/\-(\w)/g,function(a,h){return h.toUpperCase()}),s=r.currentStyle[e],s):""}};const lt=({children:t,hideBeforeLoaded:r=!0,onStep:e,onload:s})=>{const l=S.useRef(void 0);return S.useEffect(()=>{l&&l.current&&new I().load(l.current,{hideBeforeLoaded:r,onUpdate:a=>e?.(a)}).then(a=>s?.(a))},[]),S.Children.map(t,a=>a&&typeof a=="object"&&"props"in a?S.cloneElement(a,{...a.props,ref:l}):a)};function V(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E,T;function Z(){if(T)return E;T=1;var t=4,r=.001,e=1e-7,s=10,l=11,a=1/(l-1),h=typeof Float32Array=="function";function m(d,n){return 1-3*n+3*d}function o(d,n){return 3*n-6*d}function i(d){return 3*d}function u(d,n,p){return((m(n,p)*d+o(n,p))*d+i(n))*d}function c(d,n,p){return 3*m(n,p)*d*d+2*o(n,p)*d+i(n)}function g(d,n,p,F,y){var v,b,x=0;do b=n+(p-n)/2,v=u(b,F,y)-d,v>0?p=b:n=b;while(Math.abs(v)>e&&++x<s);return b}function f(d,n,p,F){for(var y=0;y<t;++y){var v=c(n,p,F);if(v===0)return n;var b=u(n,p,F)-d;n-=b/v}return n}function w(d){return d}return E=function(d,n,p,F){if(!(0<=d&&d<=1&&0<=p&&p<=1))throw new Error("bezier x values must be in [0, 1] range");if(d===n&&p===F)return w;for(var y=h?new Float32Array(l):new Array(l),v=0;v<l;++v)y[v]=u(v*a,d,p);function b(x){for(var j=0,$=1,N=l-1;$!==N&&y[$]<=x;++$)j+=a;--$;var z=(x-y[$])/(y[$+1]-y[$]),O=j+z*a,U=c(O,d,p);return U>=r?f(x,O,d,p):U===0?O:g(x,j,j+a,d,p)}return function(x){return x===0?0:x===1?1:u(b(x),n,F)}},E}var _=Z();const H=V(_),J={outQuart:[.165,.84,.44,1]},D={from:{},to:{},duration:1e3,delay:0,easing:J.outQuart,onStart:{is:!1,method:()=>{}},onUpdate:()=>{},onComplete:()=>{}};class W{enable;data;playing;clearNextFrame;playNextFrame;addDataNextFrame;eachResult;result;timestamp;constructor(r){const e={...D,...r};if(this.enable=!0,this.data=[],this.playing=!1,this.clearNextFrame=!1,this.playNextFrame=!1,this.addDataNextFrame=[],this.timestamp=0,JSON.stringify(e)!==JSON.stringify(D)){const s={method:e.onStart instanceof Function?e.onStart:e.onStart.method,is:!1};Object.keys(e.to).length>0&&this.data.push({...e,onStart:s})}return this.eachResult=this.result=e.from,this}add(r){const e={...D,...r},{from:s,to:l,duration:a,delay:h,easing:m,onUpdate:o,onComplete:i,onStart:u}=e,c={from:s,to:l,duration:a,delay:h,easing:m,onUpdate:o,onComplete:i,onStart:u||{method:()=>{},is:!0}};return r.onStart?c.onStart={method:u instanceof Function?u:u.method,is:!1}:c.onStart={method:()=>{},is:!0},this.clearNextFrame&&this.addDataNextFrame.push(c),this.data.push(c),this}clearQueue(){return this.data.length>0&&(this.clearNextFrame=!0),this.data=[],this.addDataNextFrame=[],this.result=this.eachResult,this.timestamp=new Date().getTime(),this}play(){const{requestAnimationFrame:r}=window,[e]=this.data;if(e){if(this.clearNextFrame){this.playNextFrame=!0;return}if(!this.playing)return this.playing=!0,this.enable=!0,this.timestamp=new Date().getTime(),r(()=>this.render()),this}}stop(){return this.enable=!1,this.playing=!1,this}render(){const{requestAnimationFrame:r}=window,[e]=this.data;if(!e)return;const{from:s,to:l,duration:a,delay:h,easing:m,onUpdate:o,onComplete:i,onStart:u}=e,c=s||this.result,g=new Date().getTime()-this.timestamp-(h||0),[f,w,d,n]=m,p=H(f,w,d,n),F=g/a;if(g<0){r(()=>this.render());return}if(Object.keys(u).length!==0)if(u instanceof Function)u?.();else{const{method:v,is:b}=u;!b&&v&&(u.is=!0,v?.(c))}let y={};Object.entries(l).forEach(v=>{const[b,x]=v,j=Object.entries(c).filter(N=>N[0]===b)[0][1];if(j===void 0)return;const $=j+(x-j)*p(F);y[b]=$}),g<a?(this.eachResult={...this.result,...y},o?.(this.eachResult),this.enable?r(()=>this.render()):(this.result={...this.result,...y},this.clearNextFrame&&(this.clearNextFrame=!1,this.addDataNextFrame.length>0?(this.data=[...this.addDataNextFrame],this.addDataNextFrame=[]):this.data=[]),this.playNextFrame&&(this.playNextFrame=!1,this.play()))):(this.result=this.eachResult={...this.result,...l},this.data.shift(),i?.(this.result),this.data.length>0?(this.reset(),this.data[0].from=this.data[0].from||this.result,this.enable&&r(()=>this.render())):this.playing=!1)}reset(){this.timestamp=new Date().getTime()}}const G=t=>{let r=0,e=0,s=0;t.length==4?(r="0x"+t[1]+t[1],e="0x"+t[2]+t[2],s="0x"+t[3]+t[3]):t.length==7&&(r="0x"+t[1]+t[2],e="0x"+t[3]+t[4],s="0x"+t[5]+t[6]),r/=255,e/=255,s/=255;let l=Math.min(r,e,s),a=Math.max(r,e,s),h=a-l,m=0,o=0,i=0;return h==0?m=0:a==r?m=(e-s)/h%6:a==e?m=(s-r)/h+2:m=(r-e)/h+4,m=Math.round(m*60),m<0&&(m+=360),i=(a+l)/2,o=h==0?0:h/(1-Math.abs(2*i-1)),o=+(o*100).toFixed(1),i=+(i*100).toFixed(1),[m,o,i]},L=["backgroundColor","color","borderColor"],Q=["scale","x","y","rotate","rotateY","rotateX","rotateZ","skewX","skewY"],q={scale:"scale",rotate:"rotate",x:"translateX",y:"translateY",skewX:"skewX",skewY:"skewY",rotateY:"rotateY",rotateX:"rotateX",rotateZ:"rotateZ"},B={scale:"",rotate:"deg",x:"px",y:"px",skewX:"deg",skewY:"deg",rotateY:"deg",rotateX:"deg",rotateZ:"deg"},K=t=>{const r=G(t),[e,s,l]=r;return[{h:e,s,l},"hsl"]},tt=t=>{const r=String(t),e=parseFloat(r),s=r.split(String(e)).join("");return isNaN(e)?[Number(t),""]:[e,s]},Y=(t,r)=>L.filter(e=>e===t).length!==0?K(r):tt(r),et=t=>{const r={};return Object.entries(t).forEach(e=>{const[s,l]=e,a=Q.filter(h=>h===s);if(a.length>0){const[h]=a,m=Object.entries(q).filter(i=>i[0]===h)[0][1],o=Object.entries(B).filter(i=>i[0]===h)[0][1];r.transform?r.transform+=` ${m}(${l}${o})`:r.transform=`${m}(${l}${o})`}else r[s]=l}),r},M=(t,r)=>{const e={};return Object.entries(t).forEach(s=>{const[l,a]=s,[h,m]=l.split("@"),o=r[h],i=Q.filter(u=>u===l);if(o==="hsl")e[h]={...e[h],[m]:a};else if(i.length>0){const[u]=i,c=Object.entries(q).filter(f=>f[0]===u)[0][1],g=Object.entries(B).filter(f=>f[0]===u)[0][1];e.transform?e.transform+=` ${c}(${a}${g})`:e.transform=`${c}(${a}${g})`}else e[h]=`${a}${o}`}),Object.entries(e).forEach(s=>{const[l,a]=s;if(L.filter(h=>h===l).length!==0){const h=a;a instanceof Object&&(e[l]=`hsl(${h.h}, ${h.s}%, ${h.l}%)`)}}),e},rt={linear:[0,0,1,1],inSine:[.47,0,.745,.715],outSine:[.39,.575,.565,1],inOutSine:[.445,.05,.55,.95],inOutCubic:[.645,.045,.355,1],inQuart:[.895,.03,.685,.22],outQuart:[.165,.84,.44,1],inOutQuart:[.77,0,.175,1],outBack:[.175,.885,.32,1.275]},X={duration:1e3,easing:rt.outQuart,delay:0,onStart:()=>{},onUpdate:()=>{},onEnd:()=>{}},ut=t=>{const[r,e]=S.useState(t),s=S.useRef({}),l=S.useRef({}),a=()=>{let m={},o={};return Object.keys(s.current).length?(m=s.current,o=l.current):(Object.entries(r).forEach(i=>{const[u,c]=i,g=Y(u,c);if(g){const[f,w]=g;w==="hsl"?Object.entries(f).forEach(d=>{const[n,p]=d;m[`${u}@${n}`]=p}):m[u]=f,o[u]=w}}),l.current=o),{from:m,unit:o}},h=S.useRef(new W({from:a().from}));return[et(r),(m,o)=>{let i;typeof o=="number"?i={...X,duration:o}:i={...X,...o};const{from:u,unit:c}=a(),g={};Object.entries(m).forEach(f=>{const[w,d]=f,n=Y(w,d);if(n){const[p,F]=n;F==="hsl"?Object.entries(p).forEach(y=>{const[v,b]=y;g[`${w}@${v}`]=b}):g[w]=p}}),h.current.stop().clearQueue().add({to:g,from:u,...i,onUpdate:f=>{s.current=f,e(M(f,c)),i.onUpdate(f)},onComplete:f=>{s.current=f,e(M(f,c)),i.onEnd(f)}}).play()},()=>{h.current?.stop()}]};var k={},A;function it(){return A||(A=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoverSize=t.Position=t.ScrollTop=t.Dollar=t.Uid=t.Pad=void 0;var r=function(o,i){i===void 0&&(i=4);for(var u="",c=0;c<i;c++)u+="0";return String(u+o).slice(i*-1)};t.Pad=r;var e=function(o){o===void 0&&(o=10);for(var i="",u=0;u<o;u++)i+=((1+Math.random())*16|0).toString(16).substring(1);return i};t.Uid=e;var s=function(o){return o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};t.Dollar=s;var l=function(){if(window)return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop};t.ScrollTop=l;var a=function(o){if(window){var i=o?.getBoundingClientRect();return{top:i.top+window.scrollY,left:i.left+window.scrollX}}};t.Position=a;var h=function(o,i){o===void 0&&(o={width:1280,height:720}),i===void 0&&(i={width:window.innerWidth,height:window.innerHeight});var u=o.width,c=o.height,g=i.width,f=i.height,w=c/u,d=f/g,n={width:0,height:0,left:0,top:0};return d>w?(n.width=f/w,n.height=f,n.left=(g-n.width)*.5,n.top=0):(n.width=g,n.height=g*w,n.left=0,n.top=(f-n.height)*.5),n};t.CoverSize=h;var m={Pad:t.Pad,Uid:t.Uid,Dollar:t.Dollar,ScrollTop:t.ScrollTop,Position:t.Position,CoverSize:t.CoverSize};t.default=m})(k)),k}var at=it();const nt=({children:t,align:r})=>{const e=S.useRef(null),[s,l]=S.useState({width:0,height:0,top:0,left:0});return S.useEffect(()=>{const a=()=>{e.current&&l(at.CoverSize({width:1280,height:1920},{width:e.current.clientWidth,height:e.current.clientHeight}))};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),P.jsx("div",{ref:e,className:"absolute top-0 left-0 h-full w-full overflow-hidden",children:P.jsx("div",{className:"absolute",style:{width:`${s.width}px`,height:`${s.height}px`,top:`${r==="top"?"0px":s.top}px`,left:`${s.left}px`},children:t})})},dt=S.memo(nt);export{dt as C,rt as e,lt as k,at as l,ut as r};
