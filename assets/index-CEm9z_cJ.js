import{r as s,j as f}from"./index-CzYQnn4a.js";import{A as w,a as x,C as d,S as l,D as v}from"./index-CXkp9FBw.js";const A=""+new URL("smoke-DRlRN0cz.mp4",import.meta.url).href,m=""+new URL("displacement_map_repeat-CNM4-aIj.jpg",import.meta.url).href,h=""+new URL("headline-animate-DogYC3oN.png",import.meta.url).href,E=s.memo(({onAssetsLoaded:p,scale:u=1,noise:g={x:30,y:10}})=>{const t=s.useRef(null);return s.useEffect(()=>{const e=new w,a=()=>{e.stage.children.forEach(r=>{r instanceof d&&t.current&&(r.scale.set(.55/259*t.current.clientWidth),e.canvas.width=(t.current.clientWidth||388)+200,e.canvas.height=(t.current.clientHeight||394)+200,e.renderer.resize(e.canvas.width,e.canvas.height))})},c=async()=>{if(t.current&&t.current.clientWidth>0&&t.current.clientHeight>0){await x.load([h,m]),await e.init({width:t.current.clientWidth||259,height:(t.current.clientHeight||172)+200,backgroundAlpha:0}),e.stage.eventMode="static",e.stage.width=t.current.clientWidth||259,e.stage.height=(t.current.clientHeight||172)+200,t.current.appendChild(e.canvas);const r=new d;r.scale.set(.55/259*t.current.clientWidth),e.stage.addChild(r);const i=l.from(h);r.addChild(i),i.x=100,i.y=100;const n=l.from(m);n.texture.source.addressMode="repeat";const o=new v({sprite:n,scale:g});o.padding=10,n.position=i.position,e.stage.addChild(n),i.filters=[o],e.ticker.add(()=>{n.x++,n.x>n.width&&(n.x=0)}),p?.(),a(),window.addEventListener("resize",a)}else requestAnimationFrame(()=>{c()})};return requestAnimationFrame(()=>{c()}),()=>{window.removeEventListener("resize",a),e.destroy()}},[]),f.jsx("div",{ref:t,className:"SteamText",style:{transform:`scale(${u})`}})});export{E as S,A as v};
